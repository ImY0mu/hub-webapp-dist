import{r as render,a as render$1,b as render$2,c as render$3,d as resolveComponent,o as openBlock,e as createElementBlock,f as createBaseVNode,g as createVNode,h as createCommentVNode,i as defineComponent,j as draggable,n as normalizeClass,k as createSlots,w as withCtx,l as withModifiers,t as toDisplayString,F as Fragment,m as createBlock,p as renderList,q as createTextVNode,s as createStaticVNode,u as semver,v as createApp}from"./vendor.577afa9e.js";const p=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}};p();var Header_vue_vue_type_style_index_0_lang="",_export_sfc=(e,t)=>{for(const[o,r]of t)e[o]=r;return e};const _sfc_main$5={components:{ChevronLeftIcon:render,ChevronRightIcon:render$1,RefreshIcon:render$2,XIcon:render$3},data(){return{}},props:{tabs:Array,current_tab:Number},emits:["reload","stop","goForward","goBackward"],methods:{reload(e){this.$emit("reload",e)},stop(e){this.$emit("stop",e)},goForward(e){this.$emit("goForward",e)},goBackward(e){this.$emit("goBackward",e)},copyText(){var e=document.getElementById("searchBar");e.select(),e.setSelectionRange(0,99999),navigator.clipboard.writeText(e.value),window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}},mounted(){}},_hoisted_1$5={id:"navigation_bar",class:"relative"},_hoisted_2$3=["disabled"],_hoisted_3$3=["disabled"],_hoisted_4$2=["value"],_hoisted_5$2={class:"ml-auto flex items-center justify-center absolute right-2.2 top-2.1"},_hoisted_6$2={key:0,class:"animate-spin w-4.5 h-4.5 text-white ml-auto flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},_hoisted_7$2=createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),_hoisted_8$2=createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),_hoisted_9$2=[_hoisted_7$2,_hoisted_8$2];function _sfc_render$5(e,t,o,r,s,n){var l,_,h,b,f;const d=resolveComponent("ChevronLeftIcon"),i=resolveComponent("ChevronRightIcon"),a=resolveComponent("XIcon"),u=resolveComponent("RefreshIcon");return openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("button",{disabled:(l=o.tabs.find(c=>c.id===o.current_tab))==null?void 0:l.cant_go_back,onClick:t[0]||(t[0]=c=>n.goBackward(o.current_tab))},[createVNode(d,{class:"w-4 h-4"})],8,_hoisted_2$3),createBaseVNode("button",{disabled:(_=o.tabs.find(c=>c.id===o.current_tab))==null?void 0:_.cant_go_forward,onClick:t[1]||(t[1]=c=>n.goForward(o.current_tab))},[createVNode(i,{class:"w-4 h-4"})],8,_hoisted_3$3),((h=o.tabs.find(c=>c.id===o.current_tab))==null?void 0:h.is_loading)?(openBlock(),createElementBlock("button",{key:0,onClick:t[2]||(t[2]=c=>n.stop(o.current_tab))},[createVNode(a,{class:"w-4 h-4"})])):(openBlock(),createElementBlock("button",{key:1,onClick:t[3]||(t[3]=c=>n.reload(o.current_tab))},[createVNode(u,{class:"w-4 h-4"})])),createBaseVNode("input",{id:"searchBar",onClick:t[4]||(t[4]=(...c)=>n.copyText&&n.copyText(...c)),value:(b=o.tabs.find(c=>c.id===o.current_tab))==null?void 0:b.url,type:"text",readonly:""},null,8,_hoisted_4$2),createBaseVNode("div",_hoisted_5$2,[((f=o.tabs.find(c=>c.id===o.current_tab))==null?void 0:f.is_loading)?(openBlock(),createElementBlock("svg",_hoisted_6$2,_hoisted_9$2)):createCommentVNode("",!0)])])}var Header=_export_sfc(_sfc_main$5,[["render",_sfc_render$5]]),_imports_0="/assets/icon.838fc2a6.png",AppBar_vue_vue_type_style_index_0_lang="";const _sfc_main$4=defineComponent({name:"AppBar",components:{Header,draggable},data(){return{dragging:!1,enabled:!0}},props:{is_dashboard:Boolean,current_tab:Number,tabs:Array,updateRequired:Boolean},emits:["selectTab","closeTab","newTab","reload","stop","goForward","goBackward","openDashboard"],methods:{openDashboard(){this.$emit("openDashboard")},reload(e){this.$emit("reload",e)},stop(e){this.$emit("stop",e)},goForward(e){this.$emit("goForward",e)},goBackward(e){this.$emit("goBackward",e)},selectTab(e){this.$emit("selectTab",e)},closeTab(e){this.$emit("closeTab",e)},newTab(){this.$emit("newTab")},closeWindow(){window.current.close("web-app")},minimizeWindow(){window.current.minimize("web-app")},maximizeWindow(){window.current.maximize("web-app")}}}),_hoisted_1$4={id:"appbar",class:"w-full flex select-none relative items-start border-b border-orange-400 h-8"},_hoisted_2$2={class:"w-full flex items-center relative -top-[1px]"},_hoisted_3$2={class:"flex-shrink-0"},_hoisted_4$1=createBaseVNode("img",{src:_imports_0,class:"h-5 flex-shrink-0",alt:"App Logo"},null,-1),_hoisted_5$1=[_hoisted_4$1],_hoisted_6$1={key:0,class:"w-full flex items-center relative"},_hoisted_7$1=["onClick"],_hoisted_8$1=createBaseVNode("svg",{class:"animate-spin w-3 h-3 text-white ml-auto flex-shrink-0 block group-hover:hidden",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),_hoisted_9$1=["onClick"],_hoisted_10$1=createBaseVNode("svg",{class:"w-3.5 h-3.5 pointer-events-none",viewBox:"0 0 24 24"},[createBaseVNode("path",{fill:"currentColor",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})],-1),_hoisted_11$1=[_hoisted_10$1],_hoisted_12$1=["onClick"],_hoisted_13$1=createBaseVNode("svg",{class:"w-3.5 h-3.5 pointer-events-none",viewBox:"0 0 24 24"},[createBaseVNode("path",{fill:"currentColor",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})],-1),_hoisted_14$1=[_hoisted_13$1],_hoisted_15$1=createBaseVNode("span",null,"+",-1),_hoisted_16$1=[_hoisted_15$1],_hoisted_17$1={class:"ml-auto flex items-center gap-2"},_hoisted_18=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"bi bi-dash-lg w-5 h-5 fill-current",viewBox:"0 0 16 16"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8Z"})],-1),_hoisted_19=[_hoisted_18],_hoisted_20=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"bi bi-square w-3 h-3 fill-current",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"})],-1),_hoisted_21=[_hoisted_20],_hoisted_22=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"bi bi-x w-6 h-6 fill-current",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1),_hoisted_23=[_hoisted_22];function _sfc_render$4(e,t,o,r,s,n){const d=resolveComponent("draggable"),i=resolveComponent("Header");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createBaseVNode("button",{class:normalizeClass({"selected ":e.current_tab==null}),onClick:t[0]||(t[0]=(...a)=>e.openDashboard&&e.openDashboard(...a)),id:"dashboardBtn"},_hoisted_5$1,2)]),e.updateRequired?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_6$1,[createVNode(d,{list:e.tabs,disabled:!e.enabled,"item-key":"id",class:"w-full flex items-center relative",onStart:t[2]||(t[2]=a=>e.dragging=!0),onEnd:t[3]||(t[3]=a=>e.dragging=!1)},createSlots({item:withCtx(({element:a})=>[createBaseVNode("button",{onClick:withModifiers(u=>e.selectTab(a.id),["self"]),class:normalizeClass([{"selected ":a.id==e.current_tab},"tab max-w-32 lg:max-w-38 xl:max-w-48 flex items-center group"])},[createBaseVNode("div",{class:normalizeClass([{"text-true-gray-200":a.id==e.current_tab,"text-true-gray-300":a.id!=e.current_tab},"overflow-ellipsis overflow-hidden max-w-28 lg:max-w-34 xl:max-w-44 whitespace-nowrap pointer-events-none"])},toDisplayString(a.title),3),a.is_loading?(openBlock(),createElementBlock(Fragment,{key:0},[_hoisted_8$1,createBaseVNode("button",{onClick:withModifiers(u=>e.closeTab(a.id),["self"]),class:"ml-auto text-red-300 hover:text-red-500 hidden group-hover:block"},_hoisted_11$1,8,_hoisted_9$1)],64)):(openBlock(),createElementBlock("button",{key:1,onClick:withModifiers(u=>e.closeTab(a.id),["self"]),class:"ml-auto text-red-300 hover:text-red-500 hidden group-hover:block"},_hoisted_14$1,8,_hoisted_12$1))],10,_hoisted_7$1)]),_:2},[e.tabs.length<5?{name:"footer",fn:withCtx(()=>[createBaseVNode("button",{onClick:t[1]||(t[1]=a=>e.newTab()),class:"hover:bg-dark-600 duration-200 transition-colors text-orange-400 ml-1 px-1 relative bottom-[1px]"},_hoisted_16$1)])}:void 0]),1032,["list","disabled"])]))]),createBaseVNode("div",_hoisted_17$1,[createBaseVNode("button",{class:"controls",onClick:t[4]||(t[4]=(...a)=>e.minimizeWindow&&e.minimizeWindow(...a))},_hoisted_19),createBaseVNode("button",{class:"controls",onClick:t[5]||(t[5]=(...a)=>e.maximizeWindow&&e.maximizeWindow(...a))},_hoisted_21),createBaseVNode("button",{class:"controls",id:"closeBtn",onClick:t[6]||(t[6]=(...a)=>e.closeWindow&&e.closeWindow(...a))},_hoisted_23)])]),e.tabs.length!=0&&!e.is_dashboard?(openBlock(),createBlock(i,{key:0,onReload:t[7]||(t[7]=a=>e.reload(a)),onStop:t[8]||(t[8]=a=>e.stop(a)),onGoForward:t[9]||(t[9]=a=>e.goForward(a)),onGoBackward:t[10]||(t[10]=a=>e.goBackward(a)),current_tab:e.current_tab,tabs:e.tabs},null,8,["current_tab","tabs"])):createCommentVNode("",!0)],64)}var AppBar=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),WebView_vue_vue_type_style_index_0_lang="";const _sfc_main$3={},_hoisted_1$3={id:"webview_container",class:"relative"};function _sfc_render$3(e,t,o,r,s,n){return openBlock(),createElementBlock("div",_hoisted_1$3)}var WebView=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]),Dashboard_vue_vue_type_style_index_0_lang="";const _sfc_main$2={props:{player:Object,keybinds:Array}},_hoisted_1$2={id:"dashboard_container",class:"relative"},_hoisted_2$1={id:"dashboard"},_hoisted_3$1={class:"p-4 flex flex-col h-full lg:max-w-screen-lg xl:max-w-screen-xl mx-auto"},_hoisted_4=createBaseVNode("h1",{class:"text-xl text-true-gray-100"},"Dashboard",-1),_hoisted_5={class:"text-lg text-true-gray-200 text-center mt-12"},_hoisted_6=createTextVNode(" Hello "),_hoisted_7={class:"text-green-400"},_hoisted_8=createTextVNode(", I hope you are having a good time playing "),_hoisted_9=createBaseVNode("span",{class:"text-orange-400"},"SimpleMMO",-1),_hoisted_10=createTextVNode(". "),_hoisted_11={class:"grid -grid-cols-2 gap-6 w-full mt-12 max-w-prose mx-auto"},_hoisted_12={class:"w-full text-true-gray-300"},_hoisted_13=createBaseVNode("h2",{class:"text-true-gray-200 text-left"},"Keybinds",-1),_hoisted_14={class:"bg-true-gray-900 p-2 rounded space-y-1 min-h-34"},_hoisted_15={class:""},_hoisted_16={class:"ml-auto"},_hoisted_17=createStaticVNode('<div class="w-full text-true-gray-300 hidden"><h2 class="text-true-gray-200 text-left">Features</h2><div class="bg-true-gray-900 p-2 rounded space-y-1 text-left min-h-34"><div class="text-sm">Browser like behaviour</div><div class="text-sm">QoL improvements</div></div></div>',1);function _sfc_render$2(e,t,o,r,s,n){var d;return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",_hoisted_3$1,[_hoisted_4,createBaseVNode("h1",_hoisted_5,[_hoisted_6,createBaseVNode("span",_hoisted_7,toDisplayString((d=o.player)==null?void 0:d.name),1),_hoisted_8,_hoisted_9,_hoisted_10]),createBaseVNode("div",_hoisted_11,[createBaseVNode("div",_hoisted_12,[_hoisted_13,createBaseVNode("div",_hoisted_14,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.keybinds,i=>(openBlock(),createElementBlock("div",{key:i.id,class:"flex items-center text-sm"},[createBaseVNode("div",_hoisted_15,toDisplayString(i==null?void 0:i.name),1),createBaseVNode("div",_hoisted_16,toDisplayString(i==null?void 0:i.keyName),1)]))),128))])]),_hoisted_17])])])])}var Dashboard=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]);const _sfc_main$1={},_hoisted_1$1={class:"w-full h-full dark:text-true-gray-300 text-true-gray-300 font-medium text-lg flex items-center justify-center"},_hoisted_2=createBaseVNode("div",{class:"mb-16"},"Update of App Hub is required",-1),_hoisted_3=[_hoisted_2];function _sfc_render$1(e,t,o,r,s,n){return openBlock(),createElementBlock("div",_hoisted_1$1,_hoisted_3)}var UpdateHub=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),App_vue_vue_type_style_index_0_lang="";window.openDevTools=e=>{document.querySelectorAll("webview")[e].openDevTools()};const _sfc_main={components:{AppBar,WebView,Dashboard,UpdateHub},data(){return{updateRequired:!1,is_dashboard:!1,is_loading:!1,tabs:[],current_tab:null,keybinds:[],onCooldown:!1,player:null}},methods:{isUpdateRequied(){semver.exports.compare(window.background.version(),"0.0.53-22.5.17")==-1&&(this.updateRequired=!0)},getPlayer(){var e=window.background.getPlayer();localStorage.player=e,this.player=JSON.parse(e)||null},saveKeybind(e,t,o){const r=this.keybinds.find(s=>s.id===e);r.key=t,r.keyName=o,localStorage.keybinds=JSON.stringify([...this.keybinds])},openDashboard(){if(this.tabs.length!=0&&this.current_tab!=null){const e=this.tabs.find(t=>t.id===this.current_tab);e.webview.style="display: none;",this.current_tab=null}this.is_dashboard=!0},keyBindListener(e){var t="";e.type=="mousedown"?e.button!=0&&e.button!=1&&e.button!=2&&(e.shiftKey&&(t+="Shift+"),e.ctrlKey&&(t+="Ctrl+"),e.altKey&&(t+="Alt+"),t+=`Mouse${e.button}`):(e.type=="keypress"||e.type=="keydown")&&(e.shiftKey&&(t+="Shift+"),e.ctrlKey&&(t+="Ctrl+"),e.altKey&&(t+="Alt+"),t+=e.code),document.activeElement.tagName!=="INPUT"&&document.activeElement.tagName!=="TEXTAREA"&&t!=""&&this.keybindController(t)},keybindController(pressed_key){var e,t;if(console.log(pressed_key),this.onCooldown)return console.warn("Keybinds are on cooldown");const keybind=this.keybinds.find(o=>o.key==pressed_key);return keybind==null?console.warn("Keybind does not exist for this key"):(keybind==null?void 0:keybind.enabled)?(this.onCooldown=!0,setTimeout(()=>{this.onCooldown=!1},150),keybind.patreon&&keybind.group!=2&&(this.player.patreon==null||parseInt((t=(e=this.player)==null?void 0:e.patreon)==null?void 0:t.tier)<keybind.tier)?console.warn("Cannot use the keybind without enough permission."):this.stepMode!=null?keybind.stepMode?keybind.group==2?eval(keybind.action):this.windowOnScreen.type!="stepMode"?console.warn("Cannot use the keybind outside step mode window."):eval(keybind.action):console.warn("Cannot use the keybind during step mode."):eval(keybind.action)):console.warn("Keybind is not available")},getKeybinds(){var e=[{id:1,name:"Reload",category:"Window Controls",keyName:"F5",key:"F5",stepMode:!1,action:"this.reload();",use_without_patreon:!0,patreon:!0,enabled:!0,tier:0,group:2},{id:2,name:"Go backwards",category:"Window Controls",keyName:"Alt+ArrowLeft",key:"Alt+ArrowLeft",stepMode:!0,action:"this.goBackward();",use_without_patreon:!0,patreon:!0,enabled:!0,tier:0,group:2},{id:3,name:"Go forward",category:"Window Controls",keyName:"Alt+ArrowRight",key:"Alt+ArrowRight",stepMode:!1,action:"this.goForward();",use_without_patreon:!0,patreon:!0,enabled:!0,tier:0,group:2},{id:4,name:"Close tab",category:"Window Controls",keyName:"Ctrl+W",key:"Ctrl+KeyW",stepMode:!0,action:"this.closeTab();",use_without_patreon:!0,patreon:!0,enabled:!0,tier:0,group:2},{id:6,name:"New tab",category:"Window Controls",keyName:"Ctrl+T",key:"Ctrl+KeyT",stepMode:!1,action:"this.newTab();",use_without_patreon:!0,patreon:!0,enabled:!0,tier:0,group:2}];return localStorage.keybinds!=null&&localStorage.keybinds!=""?this.updateKeybinds([...e],JSON.parse(localStorage.keybinds)):(this.keybinds=[...e],localStorage.keybinds=JSON.stringify([...this.keybinds]))},updateKeybinds(e,t){let o=e.map(s=>Object.assign({},s));Object.keys(e).forEach(function(s){Object.keys(t).forEach(function(n){e[s].id==t[n].id&&(o[s].key=t[n].key,(t[n].keyName!=null||t[n].keyName!=null)&&(o[s].keyName=t[n].keyName))})});var r=o.map(s=>Object.assign({},s));return this.keybinds=[...r],localStorage.keybinds=JSON.stringify([...this.keybinds])},pageController(e,t){if(t.includes("youtube.com")||t.includes("youtube.com")||t.includes("couchcatpod.com")||t.includes("trello.com")||t.includes("discord.gg")||t.includes("instagram")||t.includes("reddit")||t.includes("facebook")||t.includes("twitter"))return this.stop(),window.background.openInBrowser(t);if(t.includes("logout"))return this.stop();if(t.includes("i-am-not-a-bot")){this.stop();return}const o=this.tabs.find(r=>r.id===e);o.url=t},goBackward(e=this.current_tab){if(this.tabs.length==0)return;this.tabs.find(o=>o.id===e).webview.goBack()},goForward(e=this.current_tab){if(this.tabs.length==0)return;this.tabs.find(o=>o.id===e).webview.goForward()},reload(e=this.current_tab){if(this.tabs.length==0)return;this.tabs.find(o=>o.id===e).webview.reload()},stop(e=this.current_tab){if(this.tabs.length==0)return;this.tabs.find(o=>o.id===e).webview.stop()},selectTab(e){this.current_tab=e,this.is_dashboard=!1;for(let o=0;o<this.tabs.length;o++){const r=this.tabs[o];r.webview.style="display: none;"}const t=this.tabs.find(o=>o.id===e);t.webview.style="z-index: 100;"},closeTab(e=this.current_tab){if(this.tabs.length==0)return this.current_tab=null;if(!(this.current_tab==null&&e==null))if(this.is_dashboard)console.log(this.current_tab),this.tabs.find(o=>o.id===e).webview.remove(),this.tabs=[...this.tabs].filter(function(o){return o.id!==e});else{if(this.current_tab!=e)this.selectTab(this.current_tab);else{if(this.tabs.length>1){const o=this.tabs.map(r=>r.id).indexOf(e);o==0?this.selectTab(this.tabs[o+1].id):this.selectTab(this.tabs[o-1].id)}this.tabs.find(o=>o.id===e).webview.remove(),this.tabs=[...this.tabs].filter(function(o){return o.id!==e})}this.tabs.length==0&&(this.current_tab=null,this.is_dashboard=!0)}},newTab(){this.tabs.length!=5&&(this.is_dashboard=!1,this.createNewTab())},updateDiscordActivity(e="",t="",o=null){window.background.updateDiscordActivity(e,t,o)},async createNewTab(e=!0,t="https://web.simple-mmo.com/"){var o=this,r=Math.floor(Math.random()*1001);await this.createWebview(r,t).then(async function(){const s=document.getElementById(r);o.tabs.push({id:r,webview:s,title:"SimpleMMO",url:t,cant_go_back:!0,cant_go_forward:!0,is_loading:!0}),o.setUpListeners(s,r).then(async function(n){console.log("Finished preparing new tab."),e&&o.selectTab(r)})})},async createWebview(e=0,t){var o=`<webview id="${e}" allowpopups partition="${window.auth.getSession()}" preload="${window.background.getPreload("web")}preload.js"  useragent="Mozilla/5.0 (Linux; Android 9.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Mobile Safari/537.36 | Simulated web version by Y0mu" src="${t}"></webview>`;document.getElementById("webview_container").insertAdjacentHTML("afterbegin",o)},async setUpListeners(e,t){const o=this.tabs.find(s=>s.id===t);var r=this;setTimeout(()=>{e.addEventListener("ipc-message",s=>{var n,d,i;if(s.channel=="updateDiscordActivity")return r.updateDiscordActivity((n=s.args[0].data)==null?void 0:n.detail,(d=s.args[0].data)==null?void 0:d.state,(i=s.args[0].data)==null?void 0:i.button);if(s.channel=="keybind")return r.keybindController(s.args[0])}),e.addEventListener("new-window",s=>{console.error(s.url)}),e.addEventListener("did-start-loading",function(s){o.title=e.getTitle(),o.is_loading=!0,o.cant_go_back=e.canGoBack()!==!0,o.cant_go_forward=e.canGoForward()!==!0},!1),e.addEventListener("will-navigate",function(s){console.log(s),r.url=s.url,r.pageController(t,s.url)},!1),e.addEventListener("did-stop-loading",function(s){o.title=e.getTitle(),o.is_loading=!1,o.cant_go_back=e.canGoBack()!==!0,o.cant_go_forward=e.canGoForward()!==!0},!1)},10)}},created(){document.addEventListener("auxclick",function(e){e.preventDefault()},!1)},mounted(){if(this.isUpdateRequied(),!this.updateRequired){var e=this;window.addEventListener("keypress",function(t){t.ctrlKey&&t.key=="w"&&t.preventDefault(),e.keyBindListener(t)},!1),window.addEventListener("mousedown",this.keyBindListener,!1),window.addEventListener("keydown",function(t){t.ctrlKey&&t.key=="w"&&(t.preventDefault(),e.keyBindListener(t)),(t.key.startsWith("F")&&t.key!="F"||t.key=="Escape"||t.key=="Backspace"||t.key.startsWith("Arrow"))&&e.keyBindListener(t)},!1),this.getPlayer(),this.getKeybinds(),this.updateDiscordActivity("Web app","",""),window.ipcRenderer.receive("openLinkInNewTab",function(t){console.log(t),e.createNewTab(!0,t)})}}},_hoisted_1={class:"w-sreen h-screen overflow-hidden"};function _sfc_render(e,t,o,r,s,n){const d=resolveComponent("AppBar"),i=resolveComponent("WebView"),a=resolveComponent("Dashboard"),u=resolveComponent("UpdateHub");return openBlock(),createElementBlock("div",_hoisted_1,[createVNode(d,{onOpenDashboard:n.openDashboard,onSelectTab:t[0]||(t[0]=l=>n.selectTab(l)),onCloseTab:t[1]||(t[1]=l=>n.closeTab(l)),onNewTab:t[2]||(t[2]=l=>n.newTab()),onReload:t[3]||(t[3]=l=>n.reload(l)),onStop:t[4]||(t[4]=l=>n.stop(l)),onGoForward:t[5]||(t[5]=l=>n.goForward(l)),onGoBackward:t[6]||(t[6]=l=>n.goBackward(l)),is_dashboard:s.is_dashboard,current_tab:s.current_tab,tabs:s.tabs,updateRequired:s.updateRequired},null,8,["onOpenDashboard","is_dashboard","current_tab","tabs","updateRequired"]),createVNode(i,{current_tab:s.current_tab,tabs:s.tabs},null,8,["current_tab","tabs"]),s.updateRequired?(openBlock(),createBlock(u,{key:1})):(openBlock(),createElementBlock(Fragment,{key:0},[s.is_dashboard||s.tabs.length==0?(openBlock(),createBlock(a,{key:0,keybinds:s.keybinds,player:s.player},null,8,["keybinds","player"])):createCommentVNode("",!0)],64))])}var App=_export_sfc(_sfc_main,[["render",_sfc_render]]),windi="";const app=createApp(App);app.mount("#app");
